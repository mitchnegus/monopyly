{% extends 'layout.html' %}

{% block left_sidebar %}
	<nav id="transactions-menu">
		<ul>
			<li>
				<a href="#top">
					<img class="button-icon" src="{{ url_for('static', filename='img/arrow-up.png') }}" />
				</a>
			</li>
			<li>
				<a class="action" href="{{ url_for('credit.new_transaction') }}">
					<img class="button-icon" src="{{ url_for('static', filename='img/plus-symbol.png') }}" />
				</a>
			</li>
			<li>
				<a class="action" href="{{ url_for('credit.show_transactions') }}">
					<img class="button-icon" src="{{ url_for('static', filename='img/refresh-symbol.png') }}" />
				</a>
			</li>
			<li>
				<a href="#bottom">
					<img class="button-icon" src="{{ url_for('static', filename='img/arrow-down.png') }}" />
				</a>
			</li>
		</ul>
	</nav>
{% endblock %}

{% block header %}
	<h1>
		{% block title %}
			Transactions
		{% endblock %}
	</h1>
{% endblock %}

{% block content %}
	<a name="top">
	<table id="transactions">
		<tr>
			<th class="card">Card</th>
			<th class="date">Date</th>
			<th class="text">Vendor</th>
			<th class="price">Price</th>
			<th class="text">Notes</th>
			<th class="date">Statement Date</th>
			<th class="edit"></th>
		</tr>
		{% for transaction in transactions %}
			<tr>
				<td class="card">
					{{ transaction['bank'] }}-{{ transaction['last_four_digits'] }}
				</td>
				<td class="date">{{ transaction['transaction_date'] }}</td>
				<td>{{ transaction['vendor'] }}</td>
				<td class="price">${{ '{0:.2f}'.format(transaction['price']) }}</td>
				<td class="notes">
					<div class="notes">{{ transaction['notes'] }}</div>
				</td>
				<td class="date">{{ transaction['statement_date'] }}</td>
				<td>
					<a class"transaction" href="{{ url_for('credit.show_transaction', transaction_id=transaction['id']) }}">
						<img class="edit-icon hide" src="{{ url_for('static', filename='img/edit.png') }}" />
					</a>
				</td>
			</tr>
		{% endfor %}
	</table>
	<a name="bottom">
{% endblock %}

