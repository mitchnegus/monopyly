{% extends 'layout.html' %}


{% block header %}

	<h1>
		{% block title %}
			Transaction Details
		{% endblock %}
	</h1>

	<nav id="sidebar-nav-menu">
		<ul>

			<li>
				<a class="action" href="{{ url_for('credit.show_transactions') }}">
					<img class="button-icon" src="{{ url_for('static', filename='img/arrow-left.png') }}" />
				</a>
			</li>

			<li>
				<a class="action" href="{{ url_for('credit.new_transaction') }}">
					<img class="button-icon" src="{{ url_for('static', filename='img/plus.png') }}" />
				</a>
			</li>

		</ul>
	</nav>

{% endblock %}


{% block content %}

	<div id="transaction-details">

		<table id="transaction-info">

			<tr>
				<th scope="row" class="card">Card</th>
				<td class="card">
					{{ transaction['bank'] }} ****-{{ transaction['last_four_digits'] }}
				</td>
			</tr>

			<tr>
				<th scope="row" class="date">Date</th>
				<td class="date">{{ transaction['transaction_date'] }}</td>
			</tr>

			<tr>
				<th scope="row" class="text">Vendor</th>
				<td class="text">{{ transaction['vendor'] }}</td>
			</tr>

			<tr>
				<th scope="row" class="price">Price</th>
				<td class="price">{{ '${:.2f}'.format(transaction['price']) }}</td>
			</tr>

			<tr>
				<th scope="row" class="text">Notes</th>
				<td class="text">{{ transaction['notes'] }}</td>
			</tr>

			<tr>
				<th scope="row" class="date">Statement Date</th>
				<td class="date">{{ transaction['issue_date'] }}</td>
			</tr>

		</table>

		<form method="get">

			<div class="form-line">
				<div class="form-field">
					<button type="submit" formaction="{{ url_for('credit.show_statement', statement_id=transaction['statement_id']) }}">
						<img class="button-icon" src="{{ url_for('static', filename='img/edit.png') }}">
				    View statement
					</button>
				</div>

			</div>

			<div class="form-line">
				<div class="form-field">
					<button type="submit" formaction="{{ url_for('credit.update_transaction', transaction_id=transaction['id']) }}">
						<img class="button-icon" src="{{ url_for('static', filename='img/edit.png') }}">
				    Update
					</button>
				</div>
				<div class="form-field">
					<button class="danger" type="submit" formaction="{{ url_for('credit.delete_transaction', transaction_id=transaction['id']) }}" onclick="return confirm('Are you sure you want to delete this transaction?');">
						<img class="button-icon" src="{{ url_for('static', filename='img/delete.png') }}">
				    Delete
					</button>
				</div>
			</div>

	  </form>
	
	</div>

{% endblock %}
